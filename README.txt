--------------------------------

 logview 説明書

--------------------------------
logviewはコンソールメッセージをWebブラウザ上で表示するためのソフトです。
本プログラムは「業務システムエンジニアのためのHTML5勉強会#02」
で発表させて頂いたものになります。

http://atnd.org/events/38860



--------------------------------

1 システム概要

--------------------------------
logviewは以下の構成でコンソールメッセージをブラウザ上に表示しています。

バックエンドアプリ -> node.js -> ブラウザ

バックエンドとnode.jsとのメッセージはパイプ処理を使っているので、
この2つは同じローカル環境に導入する必要があります。
また、node.jsはWebソケットによりブラウザへメッセージをプッシュしているので、
ブラウザ側はWebソケットに対応している必要があります。


--------------------------------

2 導入方法

--------------------------------
〜node.jsをWindowsに導入する場合〜

1)node.jsの導入
    バックエンドアプリと同じマシンに、node.jsを導入します。
    私はｖ10.5をインストールしました。
    http://nodejs.jp/nodejs.org_ja/docs/v0.10/
    
2)logviewモジュールの配置
    node.jsを導入したマシンに、logviewのモジュールを任意の場所に配置します。

3)npmでwebsocketをインストール
    Node.js command promptを起動します。
    
    コマンドプロンプト上でlogviewモジュールを配置した場所に移動します。
    > cd C:\logview     <-- ここは2)で実際に配置したパスを記入
    
    npmコマンドでwebsocketをインストールします。
    > npm install websocket
    

--------------------------------

3 システム起動方法

--------------------------------
1)コマンドプロンプトの起動
    Node.js command promptを起動します。

2)logview配置モジュールに移動
    logviewを配置したパスにカレントディレクトリを変更します。
    例)
    > cd C:\logview

3)パイプ処理でnode.jsを起動
    以下のようにバックエンドアプリとnode.jsをパイプでつないで起動します。
    
    > <バックエンドアプリ> | node.js logview.js


--------------------------------

4 ブラウザでメッセージをみる

--------------------------------
Webソケット対応ブラウザで、以下のようにURLを入力してください。
http://localhost:8080/logview

なお、現状でのソースコードではlovalhostからしかメッセージをみることができません。
他のマシンからもみたい場合には、「logview.html」のソースを以下のように変更します。

【変更前】
var ws = new WebSocket("ws://localhost:8080/", "logview-conn");

【変更後】
var ws = new WebSocket("ws://<node.js導入マシンのIPアドレス>:8080/", "logview-conn");


--------------------------------

5 終了方法

--------------------------------
node.jsを起動したコマンドプロンプトに移動し、
Ctrl + Cでnode.jsを強制終了させて下さい。


-----------------

6 その他

-----------------
ご質問、ご要望等がございましたら、竹内までご連絡をお願い致します。

kaidouji85@gmail.com
